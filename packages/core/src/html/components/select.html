<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- start playground assets -->
    <link rel="stylesheet" href="https://cdngovbr-ds.estaleiro.serpro.gov.br/design-system/fonts/rawline/css/rawline.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700,800,900&amp;display=swap" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link href="/build/copperui.css" rel="stylesheet" />
    <script type="module" src="/build/copperui.esm.js"></script>
    <script nomodule src="/build/copperui.js"></script>
    <style media="screen, print" type="text/css">
      html {
        margin: 0;
        padding: 0;
      }

      body {
        margin: 0;
        padding: 0;
      }

      section {
        padding: 2rem;
      }
    </style>
    <!-- end playground assets -->
  </head>
  <body>
    <section>
      <h1>Select</h1>

      <div>
        <h2>Simples</h2>

        <brx-select id="sel1" label="Label" placeholder="Selecione o item">
          <brx-select-option name="estados-simples" value="rb21" label="Rondônia"></brx-select-option>
          <brx-select-option name="estados-simples" value="rb23" label="São Paulo"></brx-select-option>
          <brx-select-option name="estados-simples" value="rb27" label="Exterior"></brx-select-option>
        </brx-select>

        <script>
          {
            const select = document.querySelector('#sel1');
            select.value = ['rb27'];
          }
        </script>

        <brx-message variant="feedback" severity="warning"> Texto auxiliar Função de prevenir erros. </brx-message>
      </div>

      <div>
        <h2>Múltiplo</h2>

        <brx-select id="sel2" multiple label="Label" placeholder="Selecione o item">
          <brx-select-option value="cb21" label="Rondônia"></brx-select-option>
          <brx-select-option value="cb23" label="São Paulo"></brx-select-option>
          <brx-select-option value="cb27" label="Exterior"></brx-select-option>
        </brx-select>

        <script>
          {
            const select = document.querySelector('#sel2');
            select.value = ['cb21', 'cb23'];
          }
        </script>

        <brx-message variant="feedback" severity="warning"> Texto auxiliar Função de prevenir erros. </brx-message>
      </div>

      <div>
        <h2>Controlled</h2>

        <brx-select name="siiu" id="sel3" multiple disable-toggle-all label="Label" placeholder="Selecione até 2 itens.">
          <brx-select-option value="cb21" label="Rondônia"></brx-select-option>
          <brx-select-option value="cb23" label="São Paulo"></brx-select-option>
          <brx-select-option value="cb27" label="Exterior"></brx-select-option>
        </brx-select>

        <script>
          {
            const select = document.querySelector('#sel3');
            select.controlledValue = ['cb21'];

            select.addEventListener('brxChange', event => {
              if (event.target !== select) {
                return;
              }

              const { value } = event.detail;

              const VALUE_EXTERIOR = 'cb27';

              select.controlledValue = value[value.length - 1] === VALUE_EXTERIOR ? [VALUE_EXTERIOR] : value.filter(i => i !== VALUE_EXTERIOR);
            });
          }
        </script>

        <brx-message variant="feedback" severity="warning"> Texto auxiliar Função de prevenir erros. </brx-message>
      </div>
    </section>
  </body>
</html>
